"use strict";(self["webpackChunkvue_suning"]=self["webpackChunkvue_suning"]||[]).push([[290],{2290:function(s,a,t){t.r(a),t.d(a,{default:function(){return _}});var e=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"main w"},[t("div",{staticClass:"bread"},[s._m(0),t("ul",{staticClass:"fl sui-tag"},[s.searchParams.categoryName?t("li",{staticClass:"with-x"},[s._v(" "+s._s(s.searchParams.categoryName)),t("i",{on:{click:s.removeName}},[s._v("×")])]):s._e(),s.searchParams.keyword?t("li",{staticClass:"with-x"},[s._v(" "+s._s(s.searchParams.keyword)),t("i",{on:{click:s.removeKeyword}},[s._v("×")])]):s._e(),s.searchParams.trademark?t("li",{staticClass:"with-x"},[s._v(" "+s._s(s.searchParams.trademark.split(":")[1])),t("i",{on:{click:s.removeTm}},[s._v("×")])]):s._e(),s._l(s.searchParams.props,(function(a,e){return t("li",{key:e,staticClass:"with-x"},[s._v(" "+s._s(a.split(":")[1])),t("i",{on:{click:function(a){return s.removeAttr(e)}}},[s._v("×")])])}))],2)]),t("SearchSelector",{on:{tmInfo:s.tmInfo,attrInfo:s.attrInfo}}),t("div",{staticClass:"details clearfix"},[t("div",{staticClass:"sui-navbar"},[t("div",{staticClass:"navbar-inner filter"},[t("ul",{staticClass:"sui-nav"},[t("span",{staticClass:"sui-nav-boder",class:{"sui-nav-boder-second":s.orderC}}),t("li",{class:{active:s.isOne},on:{click:function(a){return s.changeOrder(1)},mouseenter:function(a){return s.orderE(1)},mouseleave:function(a){return s.orderL(1)}}},[t("a",[s._v("综合"),t("span",{directives:[{name:"show",rawName:"v-show",value:s.isOne,expression:"isOne"}]},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.isDesc,expression:"isDesc"}]},[s._v("⬇")]),t("span",{directives:[{name:"show",rawName:"v-show",value:!s.isDesc,expression:"!isDesc"}]},[s._v("⬆")])])])]),t("li",{class:{active:!s.isOne},on:{click:function(a){return s.changeOrder(2)},mouseenter:function(a){return s.orderE(2)},mouseleave:function(a){return s.orderL(2)}}},[t("a",[s._v("价格"),t("span",{directives:[{name:"show",rawName:"v-show",value:!s.isOne,expression:"!isOne"}]},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.isDesc,expression:"isDesc"}]},[s._v("⬇")]),t("span",{directives:[{name:"show",rawName:"v-show",value:!s.isDesc,expression:"!isDesc"}]},[s._v("⬆")])])])])])])]),t("div",{staticClass:"goods-list"},[t("ul",{staticClass:"yui3-g"},s._l(s.goodsList,(function(a){return t("li",{key:a.id,staticClass:"yui3-u-1-5"},[t("div",{staticClass:"list-wrap"},[t("router-link",{attrs:{to:"/detail/"+a.id}},[t("div",{staticClass:"p-img"},[t("a",[t("img",{attrs:{src:a.defaultImg}})])]),t("div",{staticClass:"price"},[t("strong",[t("em",[s._v("¥")]),t("i",[s._v(s._s(a.price)+".00")])])]),t("div",{staticClass:"attr"},[t("a",[s._v(s._s(a.title))])])]),t("div",{staticClass:"commit"},[t("i",{staticClass:"command"},[s._v("已有"),t("span",[s._v(s._s(a.hotScore))]),s._v("人评价")])]),s._m(1,!0)],1)])})),0)]),t("Pagination",{attrs:{pageNo:s.searchParams.pageNo,pageSize:s.searchParams.pageSize,total:s.total,continues:5},on:{getPageNo:s.getPageNo}})],1)],1)},r=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",{staticClass:"fl sui-breadcrumb"},[t("li",[t("a",{attrs:{href:"#"}},[s._v("全部结果")])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"operate"},[t("a",{staticClass:"sui-btn btn-bordered btn-danger"},[s._v("加入购物车")]),t("a",{staticClass:"sui-btn btn-bordered"},[s._v("收藏")])])}],i=function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"clearfix selector"},[t("div",{staticClass:"type-wrap logo"},[t("div",{staticClass:"fl key brand"},[s._v("品牌")]),t("div",{staticClass:"value logos"},[t("ul",{staticClass:"logo-list"},s._l(s.trademarkList,(function(a){return t("li",{key:a.tmId,on:{click:function(t){return s.tmClick(a)}}},[s._v(" "+s._s(a.tmName)+" ")])})),0)]),s._m(0)]),s._l(s.attrsList,(function(a){return t("div",{key:a.attrId,staticClass:"type-wrap"},[t("div",{staticClass:"fl key"},[s._v(s._s(a.attrName))]),t("div",{staticClass:"fl value"},[t("ul",{staticClass:"type-list"},s._l(a.attrValueList,(function(e,r){return t("li",{key:r,on:{click:function(t){return s.attrClick(a,e)}}},[t("a",[s._v(s._s(e))])])})),0)]),t("div",{staticClass:"fl ext"})])}))],2)},c=[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"ext"},[t("a",{staticClass:"sui-btn"},[s._v("多选")]),t("a",[s._v("更多")])])}],o=t(4665),n={name:"SearchSelector",computed:{...(0,o.Se)(["trademarkList","attrsList"])},methods:{tmClick(s){this.$emit("tmInfo",s)},attrClick(s,a){this.$emit("attrInfo",s,a)}}},l=n,h=t(1001),d=(0,h.Z)(l,i,c,!1,null,"6195d3fa",null),m=d.exports,u={name:"Search",components:{SearchSelector:m},data(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""},orderC:!1,orderC1:!1}},methods:{getData(s){this.searchParams.pageNo=s||1,this.$store.dispatch("getSearchInfo",this.searchParams)},removeName(){this.searchParams.categoryName=void 0,this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.getData(),this.$route.params&&this.$router.push({name:"Search",params:this.$route.params})},removeKeyword(){this.searchParams.keyword=void 0,this.getData(),this.$route.query&&this.$router.push({name:"Search",query:this.$route.query})},removeTm(){this.searchParams.trademark=void 0,this.getData()},removeAttr(s){this.searchParams.props.splice(s,1),this.getData()},tmInfo(s){this.searchParams.trademark=`${s.tmId}:${s.tmName}`,this.getData()},attrInfo(s,a){let t=`${s.attrId}:${a}:${s.attrName}`;-1==this.searchParams.props.indexOf(t)&&(this.searchParams.props.push(t),this.getData())},changeOrder(s){let a=this.searchParams.order.split(":")[0],t=this.searchParams.order.split(":")[1];this.searchParams.order=a==s?`${s}:${"desc"==t?"asc":"desc"}`:`${s}:desc`,this.getData(),1==s?(this.orderC=!1,this.orderC1=this.orderC):(this.orderC=!0,this.orderC1=this.orderC)},orderE(s){this.orderC1=this.orderC,this.orderC=1!=s},orderL(s){this.orderC=this.orderC1},getPageNo(s){this.getData(s)}},computed:{...(0,o.Se)(["goodsList"]),...(0,o.rn)({total:s=>s.Search.searchInfo.total}),isOne(){return-1!=this.searchParams.order.indexOf("1")},isDesc(){return-1!=this.searchParams.order.indexOf("desc")}},beforeMount(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted(){this.getData()},watch:{$route(s,a){this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getData()}}},v=u,p=(0,h.Z)(v,e,r,!1,null,"f3fdf606",null),_=p.exports}}]);