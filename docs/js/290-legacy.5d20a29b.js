"use strict";(self["webpackChunkvue_suning"]=self["webpackChunkvue_suning"]||[]).push([[290],{2290:function(t,s,a){a.r(s),a.d(s,{default:function(){return _}});var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"main w"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[t.searchParams.categoryName?a("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchParams.categoryName)),a("i",{on:{click:t.removeName}},[t._v("×")])]):t._e(),t.searchParams.keyword?a("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchParams.keyword)),a("i",{on:{click:t.removeKeyword}},[t._v("×")])]):t._e(),t.searchParams.trademark?a("li",{staticClass:"with-x"},[t._v(" "+t._s(t.searchParams.trademark.split(":")[1])),a("i",{on:{click:t.removeTm}},[t._v("×")])]):t._e(),t._l(t.searchParams.props,(function(s,e){return a("li",{key:e,staticClass:"with-x"},[t._v(" "+t._s(s.split(":")[1])),a("i",{on:{click:function(s){return t.removeAttr(e)}}},[t._v("×")])])}))],2)]),a("SearchSelector",{on:{tmInfo:t.tmInfo,attrInfo:t.attrInfo}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("span",{staticClass:"sui-nav-boder",class:{"sui-nav-boder-second":t.orderC}}),a("li",{class:{active:t.isOne},on:{click:function(s){return t.changeOrder(1)},mouseenter:function(s){return t.orderE(1)},mouseleave:function(s){return t.orderL(1)}}},[a("a",[t._v("综合"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isOne,expression:"isOne"}]},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.isDesc,expression:"isDesc"}]},[t._v("⬇")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.isDesc,expression:"!isDesc"}]},[t._v("⬆")])])])]),a("li",{class:{active:!t.isOne},on:{click:function(s){return t.changeOrder(2)},mouseenter:function(s){return t.orderE(2)},mouseleave:function(s){return t.orderL(2)}}},[a("a",[t._v("价格"),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.isOne,expression:"!isOne"}]},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.isDesc,expression:"isDesc"}]},[t._v("⬇")]),a("span",{directives:[{name:"show",rawName:"v-show",value:!t.isDesc,expression:"!isDesc"}]},[t._v("⬆")])])])])])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(s){return a("li",{key:s.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("router-link",{attrs:{to:"/detail/"+s.id}},[a("div",{staticClass:"p-img"},[a("a",[a("img",{attrs:{src:s.defaultImg}})])]),a("div",{staticClass:"price"},[a("strong",[a("em",[t._v("¥")]),a("i",[t._v(t._s(s.price)+".00")])])]),a("div",{staticClass:"attr"},[a("a",[t._v(t._s(s.title))])])]),a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v(t._s(s.hotScore))]),t._v("人评价")])]),t._m(1,!0)],1)])})),0)]),a("Pagination",{attrs:{pageNo:t.searchParams.pageNo,pageSize:t.searchParams.pageSize,total:t.total,continues:5},on:{getPageNo:t.getPageNo}})],1)],1)},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger"},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered"},[t._v("收藏")])])}],i=a(4367),c=(a(561),a(2222),a(4916),a(3123),function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(s){return a("li",{key:s.tmId,on:{click:function(a){return t.tmClick(s)}}},[t._v(" "+t._s(s.tmName)+" ")])})),0)]),t._m(0)]),t._l(t.attrsList,(function(s){return a("div",{key:s.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(s.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(s.attrValueList,(function(e,r){return a("li",{key:r,on:{click:function(a){return t.attrClick(s,e)}}},[a("a",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)}),o=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn"},[t._v("多选")]),a("a",[t._v("更多")])])}],n=a(4665),l={name:"SearchSelector",computed:(0,i.Z)({},(0,n.Se)(["trademarkList","attrsList"])),methods:{tmClick:function(t){this.$emit("tmInfo",t)},attrClick:function(t,s){this.$emit("attrInfo",t,s)}}},u=l,h=a(1001),d=(0,h.Z)(u,c,o,!1,null,"6195d3fa",null),m=d.exports,v={name:"Search",components:{SearchSelector:m},data:function(){return{searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""},orderC:!1,orderC1:!1}},methods:{getData:function(t){this.searchParams.pageNo=t||1,this.$store.dispatch("getSearchInfo",this.searchParams)},removeName:function(){this.searchParams.categoryName=void 0,this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,this.getData(),this.$route.params&&this.$router.push({name:"Search",params:this.$route.params})},removeKeyword:function(){this.searchParams.keyword=void 0,this.getData(),this.$route.query&&this.$router.push({name:"Search",query:this.$route.query})},removeTm:function(){this.searchParams.trademark=void 0,this.getData()},removeAttr:function(t){this.searchParams.props.splice(t,1),this.getData()},tmInfo:function(t){this.searchParams.trademark="".concat(t.tmId,":").concat(t.tmName),this.getData()},attrInfo:function(t,s){var a="".concat(t.attrId,":").concat(s,":").concat(t.attrName);-1==this.searchParams.props.indexOf(a)&&(this.searchParams.props.push(a),this.getData())},changeOrder:function(t){var s=this.searchParams.order.split(":")[0],a=this.searchParams.order.split(":")[1];this.searchParams.order=s==t?"".concat(t,":").concat("desc"==a?"asc":"desc"):"".concat(t,":desc"),this.getData(),1==t?(this.orderC=!1,this.orderC1=this.orderC):(this.orderC=!0,this.orderC1=this.orderC)},orderE:function(t){this.orderC1=this.orderC,this.orderC=1!=t},orderL:function(t){this.orderC=this.orderC1},getPageNo:function(t){this.getData(t)}},computed:(0,i.Z)((0,i.Z)((0,i.Z)({},(0,n.Se)(["goodsList"])),(0,n.rn)({total:function(t){return t.Search.searchInfo.total}})),{},{isOne:function(){return-1!=this.searchParams.order.indexOf("1")},isDesc:function(){return-1!=this.searchParams.order.indexOf("desc")}}),beforeMount:function(){Object.assign(this.searchParams,this.$route.query,this.$route.params)},mounted:function(){this.getData()},watch:{$route:function(t,s){this.searchParams.category1Id=void 0,this.searchParams.category2Id=void 0,this.searchParams.category3Id=void 0,Object.assign(this.searchParams,this.$route.query,this.$route.params),this.getData()}}},f=v,p=(0,h.Z)(f,e,r,!1,null,"f3fdf606",null),_=p.exports}}]);