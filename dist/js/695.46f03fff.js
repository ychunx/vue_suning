"use strict";(self["webpackChunkvue_suning"]=self["webpackChunkvue_suning"]||[]).push([[695],{8695:function(t,s,e){e.r(s),e.d(s,{default:function(){return c}});var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("div",{staticClass:"tradeHeader"},[e("div",{staticClass:"logo"},[e("router-link",{attrs:{to:"/home",title:"苏宁易购logo"}},[t._v("苏宁易购")])],1),t._m(0)]),e("div",{staticClass:"tradeMain"},[e("div",{staticClass:"tradeTitle"},[t._v("收货信息")]),e("div",{staticClass:"tradeAddress"},[e("ul",t._l(t.addressList,(function(s){return e("li",{key:s.id,class:{active:1==s.isDefault},on:{click:function(e){return t.changeDefault(s,t.addressList)}}},[e("div",{staticClass:"addressHd"},[t._v(t._s(s.consignee))]),e("div",{staticClass:"addressBd"},[t._v(" "+t._s(s.fullAddress)+"，"+t._s(s.phoneNum)+" ")]),t._m(1,!0),e("i")])})),0)]),e("div",{staticClass:"tradeTitle"},[t._v("支付方式")]),t._m(2),e("div",{staticClass:"tradeTitle"},[t._v(" 商品及服务信息"),e("router-link",{attrs:{to:"/shopcart"}},[t._v("返回我的购物车修改")])],1),e("div",{staticClass:"goodsList"},[e("table",[t._m(3),e("tbody",[t._l(t.orderInfo.detailArrayList,(function(s,r){return e("tr",{key:r,staticClass:"tGoods"},[e("td",[e("div",{staticClass:"tGoodsInfo"},[e("img",{attrs:{src:s.imgUrl}}),e("div",[e("a",[t._v(t._s(s.skuName))]),e("span",[t._v("规格：")])])])]),t._m(4,!0),e("td",[e("i",[t._v("￥")]),e("span",[t._v(t._s(s.orderPrice)+".00")])]),e("td",[t._v(t._s(s.skuNum))]),e("td",[e("i",[t._v("￥")]),e("span",[t._v(t._s(s.skuNum*s.orderPrice)+".00")])])])})),t._m(5)],2)])]),t._m(6),t._m(7),e("div",{staticClass:"invoice"},[e("p",[e("span",[t._v("发票类型： 电子(商品明细)普通发票")]),e("span",[t._v("发票抬头："+t._s(t.currentAddress.consignee)+"（电子普通发票与纸质普通发票具有同等法律效力，可作为售后维权凭据、支持报销入账）")])])]),e("div",{staticClass:"tradeTitle"},[t._v("结算信息")]),e("div",{staticClass:"coupon"},[e("div",[t._v("使用优惠券 (无可用优惠券)")]),e("div",[t._v("使用苏宁卡/贵宾卡/乐购仕卡")]),e("div",[e("span",{staticClass:"couponSpan"},[t._v(t._s(t.orderInfo.totalNum))]),t._v("件商品 总计： "),e("span",[e("i",[t._v("￥")]),e("em",[t._v(t._s(t.orderInfo.originalTotalAmount)+".00")])])]),t._m(8),e("div",[t._v(" 优惠： "),e("span",[e("i",[t._v("-￥")]),e("em",[t._v(t._s(t.orderInfo.originalTotalAmount-t.orderInfo.totalAmount)+".00")])])]),t._m(9)]),e("div",{staticClass:"checkoutBox"},[e("div",[t._v(" 应付金额："),e("span",[e("i",[t._v("￥")]),e("em",[t._v(t._s(t.orderInfo.totalAmount)+".00")])])]),e("div",[t._v(" 收货信息："),e("span",[t._v(t._s(t.currentAddress.consignee)+" "+t._s(t.currentAddress.phoneNum)+" "+t._s(t.currentAddress.userAddress))])]),t._m(10),e("div",[t._v(" 提交订单后尽快支付，商品才不会被人抢走哦！"),e("a",{on:{click:t.submitOrder}},[t._v("提交订单")])])])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"progress"},[e("ul",[e("li",[e("i",[t._v("1")]),e("span",[t._v("我的购物车")]),e("b")]),e("li",[e("i",[t._v("2")]),e("span",[t._v("确认订单")]),e("b")]),e("li",[e("i",[t._v("3")]),e("span",[t._v("付款")]),e("b")]),e("li",[e("i",[t._v("4")]),e("span",[t._v("支付成功")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"addressChange"},[e("a",[t._v("修改")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"payList"},[e("div",{staticClass:"active"},[t._v("微信支付"),e("i")]),e("div",[t._v("苏宁支付"),e("i")]),e("div",[t._v("支付宝"),e("i")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("全部")]),e("th",[t._v("服务信息")]),e("th",[t._v("单价")]),e("th",[t._v("数量")]),e("th",[t._v("小计")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("td",[e("p",[t._v("为您从外地调货")]),e("p",[e("span",[t._v("承诺达")])]),e("p",[t._v("预计 01-01 09:00-21:00 送达"),e("a",[t._v("修改")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",{staticClass:"tFooter"},[e("td"),e("td"),e("td"),e("td"),e("td",[t._v("免运费")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goodsTip"},[e("input",{attrs:{type:"checkbox",checked:""}}),t._v(" 部分商品在特定条件下不支持7天无理由退货，确认购买 ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tradeTitle"},[t._v("发票信息"),e("a",[t._v("修改")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._v(" 运费： "),e("span",[e("i",[t._v("￥")]),e("em",[t._v("0.00")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._v(" 优惠券卡： "),e("span",[e("i",[t._v("-￥")]),e("em",[t._v("0.00")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._v("支付方式："),e("span",[t._v("微信支付")])])}],a=e(4665),n={name:"Trade",data(){return{orderId:""}},mounted(){this.$store.dispatch("getUserAddress"),this.$store.dispatch("getOrderInfo")},methods:{changeDefault(t,s){s.forEach((t=>t.isDefault=0)),t.isDefault=1},async submitOrder(){let{tradeNo:t}=this.orderInfo,s={consignee:this.currentAddress.consignee,consigneeTel:this.currentAddress.phoneNum,deliveryAddress:this.currentAddress.fullAddress,paymentWay:"ONLINE",orderComment:"none",orderDetailList:this.orderInfo.detailArrayList},e=await this.$API.reqSubmitOrder(t,s);200==e.code?(this.orderId=e.data,this.$router.push(`/pay?orderId=${this.orderId}`)):alert(e.data)}},computed:{...(0,a.rn)({addressList:t=>t.Trade.addressList,orderInfo:t=>t.Trade.orderInfo}),currentAddress(){return this.addressList.find((t=>0==t.isDefault))||{}}}},d=n,v=e(1001),_=(0,v.Z)(d,r,i,!1,null,"559b2361",null),c=_.exports}}]);